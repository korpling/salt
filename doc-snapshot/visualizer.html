<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Salt: Visualization of salt model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="salt.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Salt
   &#160;<span id="projectnumber">3.2.1-SNAPSHOT</span>
   </div>
   <div id="projectbrief">A powerful, tagset-independent and theory-neutral meta model and API for storing, manipulating, and representing nearly all types of linguistic data .</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('visualizer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Visualization of salt model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Salt's <a class="el" href="classorg_1_1corpus__tools_1_1salt_1_1util_1_1_vis_js_visualizer.html">VisJsVisualizer</a> provides a possibility to create a html file, which visualizes a salt graph, created from an <a class="el" href="interfaceorg_1_1corpus__tools_1_1salt_1_1common_1_1_s_document.html">SDocument</a> or from an <a href="http://download.eclipse.org/modeling/emf/emf/javadoc/2.4.3/org/eclipse/emf/common/util/URI.html">org.eclipse.emf.common.util.URI</a> of a salt file, using the vis.js library from <a href="http://visjs.org">visjs.org</a>. Furthermore it allows to filter nodes and/or relations of salt document. Therefore you have to implement the <a class="el" href="interfaceorg_1_1corpus__tools_1_1salt_1_1util_1_1_export_filter.html">ExportFilter</a>. If no export filter used, all nodes and all relations but textual relations will be visualized.</p>
<p>A simple way to use VisJsVisualizer for writing the html file is shown in the following example code. </p><div class="fragment"><div class="line">String inputSaltFile = <span class="stringliteral">&quot;path_to_your_salt_file&quot;</span>; </div><div class="line"></div><div class="line">String outputFolder = <span class="stringliteral">&quot;path_to_your_output_folder&quot;</span>;</div><div class="line"></div><div class="line">URI uri = URI.createFileURI(inputSaltFile);</div><div class="line"></div><div class="line">      VisJsVisualizer visJsVisualizer = <span class="keyword">new</span> VisJsVisualizer(uri);</div><div class="line"></div><div class="line">      <span class="keywordflow">try</span> {</div><div class="line">               URI outputFileUri = URI.createFileURI(outputFolder);</div><div class="line"></div><div class="line">               visJsVisualizer.visualize(outputFileUri);</div><div class="line"></div><div class="line">      } <span class="keywordflow">catch</span> (IOException | XMLStreamException e) { </div><div class="line"></div><div class="line">              e.printStackTrace();</div><div class="line"></div><div class="line">      }</div></div><!-- fragment --><p>How already mentioned, we also can instantiate the visualizer from an SDocument. The following example code demonstrate such a case. We use the sample document, generated by <a class="el" href="classorg_1_1corpus__tools_1_1salt_1_1samples_1_1_sample_generator.html">SampleGenerator</a>.</p>
<div class="fragment"><div class="line"><span class="comment">//generate sample salt document</span></div><div class="line"></div><div class="line">SDocument doc = SaltFactory.createSDocument();</div><div class="line"></div><div class="line">SampleGenerator.createDocumentStructure(doc);</div><div class="line"></div><div class="line"><span class="comment">//instantiate a visualizer</span></div><div class="line"></div><div class="line">VisJsVisualizer visJsVisualizer = <span class="keyword">new</span> VisJsVisualizer(doc);</div><div class="line"></div><div class="line"><span class="keywordflow">try</span> { </div><div class="line"></div><div class="line">        <span class="comment">//define output path and instantiate an output uri</span></div><div class="line"></div><div class="line">        String outputFolderPath = <span class="stringliteral">&quot;tmp/my_salt_test/sample_doc&quot;</span>;</div><div class="line"></div><div class="line">        File testFolder = <span class="keyword">new</span> File(outputFolderPath);</div><div class="line"></div><div class="line">        URI outputFolderUri = URI.createFileURI(outputFolderPath);              </div><div class="line"></div><div class="line">        <span class="comment">//visualize sample doc</span></div><div class="line"></div><div class="line">        visJsVisualizer.visualize(outputFolderUri);</div><div class="line"></div><div class="line">} <span class="keywordflow">catch</span> (IOException | XMLStreamException e) { </div><div class="line"></div><div class="line">                e.printStackTrace();</div><div class="line"></div><div class="line">}</div></div><!-- fragment --><p>While execution of above code the visualizer organizes a file structure as shown below. After execution you can view the visualization of the salt document in the generated saltVisJs.html file. The rest of files and directories has an auxiliary character and is necessary to create the visualization.</p>
<div class="image">
<img src="file_tree.png" alt="file_tree.png"/>
</div>
<p>The following image demonstrate the entire salt graph of the sample document from generated saltVisJs.html file. The background colors green, blue and yellow are always associated with token nodes, spanning nodes and structure nodes respective. Note, spanning nodes will be divided into classes according to their annotation keys. All spanning nodes belonging to the same class appear in the same level.</p>
<div class="image">
<img src="sample_doc_view.png" alt="sample_doc_view.png"/>
</div>
<h4>Export Filter</h4>
<p>In order to filter nodes and/or relations you need to implement the interface <a class="el" href="interfaceorg_1_1corpus__tools_1_1salt_1_1util_1_1_export_filter.html">ExportFilter</a>. It provides two methods:</p>
<div class="fragment"><div class="line"><span class="comment">//returns a boolean to indicate, whether the specified node must be included</span></div><div class="line"><span class="keyword">public</span> <span class="keywordtype">boolean</span> includeNode (SNode node);</div><div class="line"></div><div class="line"><span class="comment">//returns a boolean to indicate, whether the specified relation must be included</span></div><div class="line"><span class="keyword">public</span> <span class="keywordtype">boolean</span> includeRelation (SRelation relation);</div></div><!-- fragment --><p>Please note, token nodes will always been visualized, so that export filter has no impact on them.</p>
<h4>Style Importer</h4>
<p>The interface <a class="el" href="interfaceorg_1_1corpus__tools_1_1salt_1_1util_1_1_style_importer.html">StyleImporter</a> allows to highlight the nodes. Therefore you have to implement the sole method of the interface:</p>
<div class="fragment"><div class="line"><span class="comment">//returns the hexadecimal RGB representation of a color in the format &quot;#rrggbb&quot; for the specified node</span></div><div class="line"></div><div class="line"><span class="keyword">public</span> String getHighlightingColor (SNode node);</div></div><!-- fragment --><p>The border of the highlighted node will be colored according to returned color. The next image demonstrates a salt graph with a highlighted token node.</p>
<div class="image">
<img src="highlighted_node.png" alt="highlighted_node.png"/>
</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Aug 8 2016 17:39:23 for Salt by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
