<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Salt: Comparing Salt models</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="salt.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Salt
   &#160;<span id="projectnumber">3.3.10</span>
   </div>
   <div id="projectbrief">A powerful, tagset-independent and theory-neutral meta model and API for storing, manipulating, and representing nearly all types of linguistic data .</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('isomorphie.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Comparing Salt models </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The comparison of models is a main feature in Salt. Often it is necessary to detect differences between two models, for instance when having a new version of your data, it might be interesting to see what has changed. Or for instance when implementing a Pepper module you might want to test what your module is doing and compare it with a gold model to find bugs. For those use cases Salt provides a mechanism to either check whether two models are identical or not or to find differences between the models. Since Salt is a graph-based model, comparison is reducible to an isomorphism check. An isomorphism means, that for each node in one graph a node in the other graph exists having the same properties. The same goes for relations and layers. Two labels (annotations, meta annotations etc.) are isomorph, if their namespace, name and value are identical. The following snippet shows the comparison of two document structures:</p>
<div class="fragment"><div class="line">SDocument doc1 = createSampleGraph();</div><div class="line">SDocument doc2 = createSampleGraph();</div><div class="line">SampleGenerator.createDocumentStructure(doc1);</div><div class="line">SampleGenerator.createDocumentStructure(doc2);</div><div class="line"></div><div class="line">doc1.getDocumentGraph().isIsomorph(other);</div></div><!-- fragment --><p>The method <em>doc1.getDocumentGraph().isIsomorph(doc1);</em> returns true, if and only if the entire document structure of <em>doc1</em> is equal to <em>doc2</em>. Which in this case is <em>true</em>.</p>
<p>But in case the return value is not true, in many use cases, it is not enough only to know whether two graphs are isomorph. Furthermore it is important to know where are exactly the differences. Therefore Salt provides the method <a class="el" href="interfaceorg_1_1corpus__tools_1_1salt_1_1common_1_1_s_document_graph.html#a52a86b5b8657269b97bf6efd5624a150">org.corpus_tools.salt.common.SDocumentGraph.findDiffs(SDocumentGraph other)</a> which returns a list of all differences between the two graphs. The use of the method is analog to the method <a class="el" href="interfaceorg_1_1corpus__tools_1_1salt_1_1common_1_1_s_document_graph.html#ae9b471dec9edff2744c0f4a6fe1a9263">org.corpus_tools.salt.common.SDocumentGraph.isIsomorph(SDocumentGraph other)</a>.</p>
<div class="fragment"><div class="line">SDocument doc1 = createSampleGraph();</div><div class="line">SDocument doc2 = createSampleGraph();</div><div class="line">SampleGenerator.createPrimaryData(doc1);</div><div class="line">SampleGenerator.createTokens(doc2);</div><div class="line"></div><div class="line">doc1.getDocumentGraph().isIsomorph(other);</div></div><!-- fragment --><h1>Identical but,... </h1>
<p>Sometimes it is not necessary to have absolutely identical graphs. Sometimes you are only interested in having an identical structure, but not identical annotation values, or you are not interested in meta annotations or in identical identifiers. For those use cases both methods <a class="el" href="interfaceorg_1_1corpus__tools_1_1salt_1_1common_1_1_s_document_graph.html#a52a86b5b8657269b97bf6efd5624a150">org.corpus_tools.salt.common.SDocumentGraph.findDiffs(SDocumentGraph other)</a> and <a class="el" href="interfaceorg_1_1corpus__tools_1_1salt_1_1common_1_1_s_document_graph.html#ae9b471dec9edff2744c0f4a6fe1a9263">org.corpus_tools.salt.common.SDocumentGraph.isIsomorph(SDocumentGraph other)</a> offers you the possibility to pass a list of options defining one or more exceptions. For instance the following snippet shows how to compare two graphs except comparing the ids of nodes, relations and layers:</p>
<div class="fragment"><div class="line">SDocument doc1 = createSampleGraph();</div><div class="line">SDocument doc2 = createSampleGraph();</div><div class="line">SampleGenerator.createPrimaryData(doc1);</div><div class="line">SampleGenerator.createTokens(doc2);</div><div class="line"></div><div class="line">doc1.getDocumentGraph().isIsomorph(doc2.getDocumentGraph(), (<span class="keyword">new</span> DiffOptions()).setOption(DiffOptions.OPTION_IGNORE_ID, <span class="keyword">true</span>));</div></div><!-- fragment --><p>The class <a class="el" href="classorg_1_1corpus__tools_1_1salt_1_1util_1_1_diff_options.html">DiffOptions</a> defines a set of fields to switch on/off the comparison for specific properties. Passing an object of that type to the <em>findDiff</em> or <em>isIsomorph</em> will customize the comparison. For an easier implementation, the method <a class="el" href="classorg_1_1corpus__tools_1_1salt_1_1util_1_1_diff_options.html#a6a352dc06a855a26262f4b363925465d">org.corpus_tools.salt.util.DiffOptions.setOption</a> returns the option object itself. Thus enables the concatenation of multiple customizations.</p>
<div class="fragment"><div class="line"><span class="keyword">new</span> DiffOptions()).setOption(DiffOptions.OPTION_IGNORE_ID, <span class="keyword">true</span>).setOption(DiffOptions.OPTION_IGNORE_FEATURES, <span class="keyword">true</span>).setOption(DiffOptions.OPTION_IGNORE_LAYER, <span class="keyword">true</span>)</div></div><!-- fragment --><p>For a full list of all possible options the the documentation of class <a class="el" href="classorg_1_1corpus__tools_1_1salt_1_1util_1_1_diff_options.html">DiffOptions</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 13 2020 18:25:46 for Salt by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>